clear
clc

H = [0 0 0 1 0 0 0;
    0 0 0 0 1 0 0;
    0 0 0 0 0 1 0;
    0 0 0 0 0 0 1;
    0 0 0 1 1 1 1;
    0 0 1 1 0 0 0;
    0 0 1 0 1 0 0;
    0 0 1 0 0 1 0;
    0 0 1 0 0 0 1;
    0 0 1 1 1 1 1;
    0 1 0 1 0 0 0;
    0 1 0 0 1 0 0;
    0 1 0 0 0 1 0;
    0 1 0 0 0 0 1;
    0 1 0 1 1 1 1;
    0 1 1 1 0 0 0;
    0 1 1 0 1 0 0;
    0 1 1 0 0 1 0;
    0 1 1 0 0 0 1;
    0 1 1 1 1 1 1;
    1 0 0 1 0 0 0;
    1 0 0 0 1 0 0;
    1 0 0 0 0 1 0;
    1 0 0 0 0 0 1;
    1 0 0 1 1 1 1;
    1 0 1 1 0 0 0;
    1 0 1 0 1 0 0;
    1 0 1 0 0 1 0;
    1 0 1 0 0 0 1;
    1 0 1 1 1 1 1;
    1 1 0 1 0 0 0;
    1 1 0 0 1 0 0;
    1 1 0 0 0 1 0;
    1 1 0 0 0 0 1;
    1 1 0 1 1 1 1;
    1 1 1 1 0 0 0;
    1 1 1 0 1 0 0;
    1 1 1 0 0 1 0;
    1 1 1 0 0 0 1;
    ];

H=H';
H = g2rref(H);
optimal_H = [H(:,33:36) H(:,5) H(:,38) H(:,7:14) H(:,37) H(:,16:26) H(:,39) H(:,28:32) H(:,1:4) H(:,15) H(:,6) H(:,27)];